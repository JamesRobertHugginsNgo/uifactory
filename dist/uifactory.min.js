"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}function uiFactory(){var e,t;return t=(arguments.length<=0?void 0:arguments[0])instanceof Element?(e=arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1]):"string"==typeof(arguments.length<=1?void 0:arguments[1])?(e=document.createElementNS(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1]),arguments.length<=2?void 0:arguments[2]):(e=document.createElement(arguments.length<=0?void 0:arguments[0]),arguments.length<=1?void 0:arguments[1]),e.definedByUiFactoryPropertyDescriptors||Object.defineProperties(e,uiFactory.propertyDescriptors),e.childElementsData=_toConsumableArray(e.childNodes),e.cbk(t)}uiFactory.propertyDescriptors={definedByUiFactoryPropertyDescriptors:{value:!0},attributesData:{writable:!0},childElementsData:{writable:!0},callback:{value:function(e){return e&&e(this),this},writable:!0},renderAttributes:{value:function(e,t){var o=this;this.attributesData=e;var i=function i(t,r,e){if(t instanceof Promise)return t.then(function(e){return i(e,r)});if("function"==typeof t)return i(t(o),r);if(Array.isArray(t)){var n={},a=t.map(function(e,t){return n[t]=!0,i(e,t,n)}).filter(function(e){return e instanceof Promise});return e&&r&&0===Object.keys(n).length&&delete e[r],0<a.length&&Promise.all(a)}if("object"===_typeof(t)&&null!==t){var s=Object.keys(t).map(function(e){return i(t[e],e,t)}).filter(function(e){return e instanceof Promise});return e&&r&&0===Object.keys(t).length&&delete e[r],0<s.length&&Promise.all(s)}r&&(null==t?o.removeAttribute(r):o.setAttribute(r,t),e&&delete e[r])}(this.attributesData);return t&&(i instanceof Promise?i.then(function(){return t(o)}):t(this)),this},writable:!0},renderChildElements:{value:function(e,t,i){var o=this,u=2<arguments.length&&void 0!==i&&i;this.childElementsData=e;for(;this.firstChild;)this.removeChild(this.firstChild);var r=function t(i,e){var r=1<arguments.length&&void 0!==e?e:o.appendChild(document.createTextNode(""));if(i instanceof Promise)return i.then(function(e){return t(e,r)});if("function"==typeof i)return t(i(o),r);if(Array.isArray(i)){var n=i.map(function(e){return t(e,o.insertBefore(document.createTextNode(""),r))}).filter(function(e){return e instanceof Promise});return o.removeChild(r),0<n.length&&Promise.all(n)}if(!("object"!==_typeof(i)||null===i||i instanceof Element||i instanceof Text)){var a=Object.keys(i).map(function(e){return t(i[e],o.insertBefore(document.createTextNode(""),r))}).filter(function(e){return e instanceof Promise});return o.removeChild(r),0<a.length&&Promise.all(a)}if("boolean"!=typeof i&&"number"!=typeof i&&"string"!=typeof i)return(i instanceof Element||i instanceof Text)&&o.insertBefore(i,r),o.removeChild(r),i instanceof Element&&i.definedByUiFactoryPropertyDescriptors?u&&i.render():void 0;var s=document.createElement("div");return s.innerHTML=String(i),t(_toConsumableArray(s.childNodes),r)}(this.childElementsData);return t&&(r instanceof Promise?r.then(function(){return t(o)}):t(this)),this},writable:!0},render:{value:function(e){var t=this;return Promise.all([new Promise(function(e){return t.renderAttributes(t.attributesData,e)}),new Promise(function(e){return t.renderChildElements(t.childElementsData,e,!0)})]).then(function(){return e&&e(t)}),this},writable:!0},cbk:{value:function(){return this.callback.apply(this,arguments)}},attrs:{value:function(){return this.renderAttributes.apply(this,arguments)}},cEls:{value:function(){return this.renderChildElements.apply(this,arguments)}}},["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"].forEach(function(t){return uiFactory[t]=function(e){return uiFactory(t,e)}}),uiFactory.lorem=function(){var e=["Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus gravida felis vitae mauris facilisis maximus. Integer pulvinar at diam ac pharetra. Donec eu nisi ornare, ultrices tellus sed, blandit magna. Donec molestie accumsan arcu non lacinia. Mauris mollis nulla ex, id suscipit elit dictum sit amet. Suspendisse tempor congue dui, at dictum quam eleifend eget. Maecenas sit amet lacus id erat pharetra pulvinar.","Quisque rhoncus blandit nunc in dictum. Nunc elit tortor, ultricies ac turpis vel, ornare dignissim augue. Cras in ante sit amet sem aliquam porta. Quisque ut interdum orci. Cras condimentum felis tempor, eleifend lorem nec, rhoncus libero. Aenean ultricies felis sed nunc dapibus suscipit. Vestibulum laoreet, nibh ac scelerisque consectetur, sapien odio malesuada felis, quis lobortis justo turpis a sapien. Pellentesque consectetur volutpat ante, at tincidunt nisl porta ac. Donec eleifend imperdiet vulputate. Fusce ullamcorper ultrices euismod. Maecenas bibendum scelerisque arcu, et aliquam nulla consectetur ut. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Donec porta nibh sed risus scelerisque fringilla.","Maecenas molestie nulla eu laoreet consequat. Sed sagittis blandit imperdiet. Vestibulum commodo urna vel purus sodales tincidunt. Phasellus in nulla vel nunc sodales dignissim quis quis nisi. Donec venenatis et nisi vel porttitor. Sed ut sollicitudin urna, vel aliquet ligula. In hac habitasse platea dictumst. Fusce quis urna diam. Donec tempor tristique dignissim. Nulla pharetra sit amet nibh id porta. Donec sagittis urna risus, in ultrices nisi fringilla et. Suspendisse potenti.","Morbi vitae fringilla massa. Praesent luctus gravida magna, et ornare enim viverra sit amet. Donec risus ipsum, interdum non libero eget, feugiat placerat ante. Quisque semper elementum euismod. Donec sit amet enim lobortis, tempus sem vel, mollis elit. Maecenas eget dui arcu. Nunc a orci lorem.","Phasellus non leo nunc. Ut id posuere orci. Mauris congue lectus sed sapien vulputate dignissim. Donec ac enim ac dui vestibulum fermentum. Nam dignissim lacinia lacus, tempor dignissim lacus mattis et. Quisque sed velit nisi. Vivamus pulvinar rhoncus justo, quis lobortis sem lobortis eu. Nam iaculis odio non velit semper feugiat. Pellentesque vehicula dui felis, nec malesuada lacus molestie rutrum. Nullam in lectus porta, egestas massa quis, mattis sem. Fusce mauris purus, faucibus et congue eu, iaculis sit amet leo. Maecenas et volutpat lorem, non eleifend est. Donec nec nisi eu erat finibus ultricies. Nullam eget convallis felis, eget viverra est. Pellentesque pellentesque feugiat augue."];return e[uiFactory.lorem.index++%e.length]},uiFactory.lorem.index=0;var uif=uiFactory;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVpZmFjdG9yeS5qcyJdLCJuYW1lcyI6WyJfdHlwZW9mIiwib2JqIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJjb25zdHJ1Y3RvciIsInByb3RvdHlwZSIsIl90b0NvbnN1bWFibGVBcnJheSIsImFyciIsIl9hcnJheVdpdGhvdXRIb2xlcyIsIl9pdGVyYWJsZVRvQXJyYXkiLCJfbm9uSXRlcmFibGVTcHJlYWQiLCJUeXBlRXJyb3IiLCJpdGVyIiwiT2JqZWN0IiwidG9TdHJpbmciLCJjYWxsIiwiQXJyYXkiLCJmcm9tIiwiaXNBcnJheSIsImkiLCJhcnIyIiwibGVuZ3RoIiwidWlGYWN0b3J5IiwiZWxlbWVudCIsImNhbGxiYWNrIiwiYXJndW1lbnRzIiwidW5kZWZpbmVkIiwiRWxlbWVudCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwiY3JlYXRlRWxlbWVudCIsImRlZmluZWRCeVVpRmFjdG9yeVByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwicHJvcGVydHlEZXNjcmlwdG9ycyIsImNoaWxkRWxlbWVudHNEYXRhIiwiY2hpbGROb2RlcyIsImNiayIsInZhbHVlIiwiYXR0cmlidXRlc0RhdGEiLCJ3cml0YWJsZSIsInRoaXMiLCJyZW5kZXJBdHRyaWJ1dGVzIiwiYXR0cmlidXRlcyIsIl90aGlzIiwicmVzdWx0IiwicmVuZGVyTG9vcCIsIm5hbWUiLCJQcm9taXNlIiwidGhlbiIsInRlbXBBdHRyaWJ1dGVzIiwicHJvbWlzZXMiLCJtYXAiLCJpbmRleCIsImZpbHRlciIsInByb21pc2UiLCJrZXlzIiwiYWxsIiwiX3Byb21pc2VzIiwia2V5IiwicmVtb3ZlQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwicmVuZGVyQ2hpbGRFbGVtZW50cyIsImNoaWxkRWxlbWVudHMiLCJfdGhpczIiLCJyZVJlbmRlciIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsInBsYWNlaG9sZGVyIiwiYXBwZW5kQ2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsImluc2VydEJlZm9yZSIsIlRleHQiLCJfcHJvbWlzZXMyIiwicmVuZGVyIiwid3JhcHBlciIsImlubmVySFRNTCIsIlN0cmluZyIsIl90aGlzMyIsInJlc29sdmUiLCJhcHBseSIsImF0dHJzIiwiY0VscyIsImZvckVhY2giLCJsb3JlbSIsInBhcmFncmFwaHMiLCJ1aWYiXSwibWFwcGluZ3MiOiJBQUFBLGFBRUEsU0FBU0EsUUFBUUMsR0FBd1QsT0FBdE9ELFFBQXJELG1CQUFYRSxRQUFvRCxpQkFBcEJBLE9BQU9DLFNBQW1DLFNBQWlCRixHQUFPLGNBQWNBLEdBQTJCLFNBQWlCQSxHQUFPLE9BQU9BLEdBQXlCLG1CQUFYQyxRQUF5QkQsRUFBSUcsY0FBZ0JGLFFBQVVELElBQVFDLE9BQU9HLFVBQVksZ0JBQWtCSixJQUF5QkEsR0FFeFYsU0FBU0ssbUJBQW1CQyxHQUFPLE9BQU9DLG1CQUFtQkQsSUFBUUUsaUJBQWlCRixJQUFRRyxxQkFFOUYsU0FBU0EscUJBQXVCLE1BQU0sSUFBSUMsVUFBVSxtREFFcEQsU0FBU0YsaUJBQWlCRyxHQUFRLEdBQUlWLE9BQU9DLFlBQVlVLE9BQU9ELElBQWtELHVCQUF6Q0MsT0FBT1IsVUFBVVMsU0FBU0MsS0FBS0gsR0FBZ0MsT0FBT0ksTUFBTUMsS0FBS0wsR0FFMUosU0FBU0osbUJBQW1CRCxHQUFPLEdBQUlTLE1BQU1FLFFBQVFYLEdBQU0sQ0FBRSxJQUFLLElBQUlZLEVBQUksRUFBR0MsRUFBTyxJQUFJSixNQUFNVCxFQUFJYyxRQUFTRixFQUFJWixFQUFJYyxPQUFRRixJQUFPQyxFQUFLRCxHQUFLWixFQUFJWSxHQUFNLE9BQU9DLEdBRzdKLFNBQVNFLFlBQ1AsSUFBSUMsRUFBU0MsRUFrQmIsT0FkRUEsR0FGR0MsVUFBVUosUUFBVSxPQUFJSyxFQUFZRCxVQUFVLGNBQWVFLFNBQ2hFSixFQUFVRSxVQUFVSixRQUFVLE9BQUlLLEVBQVlELFVBQVUsR0FDN0NBLFVBQVVKLFFBQVUsT0FBSUssRUFBWUQsVUFBVSxJQUNjLGlCQUF0REEsVUFBVUos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TUFBTyxPQUFRLE9BQVEsV0FBWSxPQUFRLFFBQVMsTUFBTyxXQUFZLFNBQVUsS0FBTSxXQUFZLFNBQVUsU0FBVSxJQUFLLFFBQVMsTUFBTyxXQUFZLElBQUssS0FBTSxLQUFNLEtBQU0sTUFBTyxPQUFRLElBQUssT0FBUSxTQUFVLFVBQVcsU0FBVSxRQUFTLFNBQVUsT0FBUSxTQUFVLFFBQVMsTUFBTyxVQUFXLE1BQU8sUUFBUyxRQUFTLEtBQU0sV0FBWSxXQUFZLFFBQVMsS0FBTSxRQUFTLE9BQVEsUUFBUyxLQUFNLFFBQVMsSUFBSyxLQUFNLE1BQU8sUUFBUyxPQUFPeUQsUUFBUSxTQUFVcEMsR0FDdjdCLE9BQU94QixVQUFVd0IsR0FBUSxTQUFVdEIsR0FDakMsT0FBT0YsVUFBVXdCLEVBQU10QixNQUkzQkYsVUFBVTZELE1BQVEsV0FDaEIsSUFBSUMsRUFBYSxDQUFDLHVhQUF3YSwydkJBQTR2Qix3ZUFBeWUsMlNBQTRTLCtyQkFDMzhELE9BQU9BLEVBQVc5RCxVQUFVNkQsTUFBTS9CLFFBQVVnQyxFQUFXL0QsU0FHekRDLFVBQVU2RCxNQUFNL0IsTUFBUSxFQUd4QixJQUFJaUMsSUFBTS9EIiwiZmlsZSI6InVpZmFjdG9yeS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiKSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfTsgfSBlbHNlIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9OyB9IHJldHVybiBfdHlwZW9mKG9iaik7IH1cblxuZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KGFycikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheShhcnIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkoaXRlcikgeyBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChpdGVyKSB8fCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaXRlcikgPT09IFwiW29iamVjdCBBcmd1bWVudHNdXCIpIHJldHVybiBBcnJheS5mcm9tKGl0ZXIpOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTsgaSA8IGFyci5sZW5ndGg7IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9IH1cblxuLyogZXhwb3J0ZWQgdWlGYWN0b3J5ICovXG5mdW5jdGlvbiB1aUZhY3RvcnkoKSB7XG4gIHZhciBlbGVtZW50LCBjYWxsYmFjaztcblxuICBpZiAoKGFyZ3VtZW50cy5sZW5ndGggPD0gMCA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1swXSkgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgZWxlbWVudCA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1swXTtcbiAgICBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1sxXTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgKGFyZ3VtZW50cy5sZW5ndGggPD0gMSA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1sxXSkgPT09ICdzdHJpbmcnKSB7XG4gICAgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhhcmd1bWVudHMubGVuZ3RoIDw9IDAgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbMF0sIGFyZ3VtZW50cy5sZW5ndGggPD0gMSA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1sxXSk7XG4gICAgY2FsbGJhY2sgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDIgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbMl07XG4gIH0gZWxzZSB7XG4gICAgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYXJndW1lbnRzLmxlbmd0aCA8PSAwID8gdW5kZWZpbmVkIDogYXJndW1lbnRzWzBdKTtcbiAgICBjYWxsYmFjayA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSA/IHVuZGVmaW5lZCA6IGFyZ3VtZW50c1sxXTtcbiAgfVxuXG4gIGlmICghZWxlbWVudC5kZWZpbmVkQnlVaUZhY3RvcnlQcm9wZXJ0eURlc2NyaXB0b3JzKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZWxlbWVudCwgdWlGYWN0b3J5LnByb3BlcnR5RGVzY3JpcHRvcnMpO1xuICB9XG5cbiAgZWxlbWVudC5jaGlsZEVsZW1lbnRzRGF0YSA9IF90b0NvbnN1bWFibGVBcnJheShlbGVtZW50LmNoaWxkTm9kZXMpO1xuICByZXR1cm4gZWxlbWVudC5jYmsoY2FsbGJhY2spO1xufVxuXG51aUZhY3RvcnkucHJvcGVydHlEZXNjcmlwdG9ycyA9IHtcbiAgZGVmaW5lZEJ5VWlGYWN0b3J5UHJvcGVydHlEZXNjcmlwdG9yczoge1xuICAgIHZhbHVlOiB0cnVlXG4gIH0sXG4gIGF0dHJpYnV0ZXNEYXRhOiB7XG4gICAgd3JpdGFibGU6IHRydWVcbiAgfSxcbiAgY2hpbGRFbGVtZW50c0RhdGE6IHtcbiAgICB3cml0YWJsZTogdHJ1ZVxuICB9LFxuICBjYWxsYmFjazoge1xuICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShjYWxsYmFjaykge1xuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2sodGhpcyk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIHdyaXRhYmxlOiB0cnVlXG4gIH0sXG4gIHJlbmRlckF0dHJpYnV0ZXM6IHtcbiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoYXR0cmlidXRlcywgY2FsbGJhY2spIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIHRoaXMuYXR0cmlidXRlc0RhdGEgPSBhdHRyaWJ1dGVzO1xuXG4gICAgICB2YXIgcmVuZGVyTG9vcCA9IGZ1bmN0aW9uIHJlbmRlckxvb3AodmFsdWUsIG5hbWUsIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgLy8gUFJPTUlTRSBWQUxVRVxuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVuZGVyTG9vcCh2YWx1ZSwgbmFtZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gLy8gRlVOQ1RJT04gVkFMVUVcblxuXG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICByZXR1cm4gcmVuZGVyTG9vcCh2YWx1ZShfdGhpcyksIG5hbWUpO1xuICAgICAgICB9IC8vIEFSUkFZIFZBTFVFXG5cblxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICB2YXIgdGVtcEF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgICB2YXIgcHJvbWlzZXMgPSB2YWx1ZS5tYXAoZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkge1xuICAgICAgICAgICAgdGVtcEF0dHJpYnV0ZXNbaW5kZXhdID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiByZW5kZXJMb29wKHZhbHVlLCBpbmRleCwgdGVtcEF0dHJpYnV0ZXMpO1xuICAgICAgICAgIH0pLmZpbHRlcihmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKGF0dHJpYnV0ZXMgJiYgbmFtZSAmJiBPYmplY3Qua2V5cyh0ZW1wQXR0cmlidXRlcykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBkZWxldGUgYXR0cmlidXRlc1tuYW1lXTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gcHJvbWlzZXMubGVuZ3RoID4gMCAmJiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgICAgIH0gLy8gT0JKRUNUIFZBTFVFXG5cblxuICAgICAgICBpZiAoX3R5cGVvZih2YWx1ZSkgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgdmFyIF9wcm9taXNlcyA9IE9iamVjdC5rZXlzKHZhbHVlKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlbmRlckxvb3AodmFsdWVba2V5XSwga2V5LCB2YWx1ZSk7XG4gICAgICAgICAgfSkuZmlsdGVyKGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2U7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoYXR0cmlidXRlcyAmJiBuYW1lICYmIE9iamVjdC5rZXlzKHZhbHVlKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGRlbGV0ZSBhdHRyaWJ1dGVzW25hbWVdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBfcHJvbWlzZXMubGVuZ3RoID4gMCAmJiBQcm9taXNlLmFsbChfcHJvbWlzZXMpO1xuICAgICAgICB9IC8vIEtFWSArIFZBTFVFXG5cblxuICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICBfdGhpcy5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF90aGlzLnNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBhdHRyaWJ1dGVzW25hbWVdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdmFyIHJlc3VsdCA9IHJlbmRlckxvb3AodGhpcy5hdHRyaWJ1dGVzRGF0YSk7XG5cbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgIHJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhfdGhpcyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FsbGJhY2sodGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICB3cml0YWJsZTogdHJ1ZVxuICB9LFxuICByZW5kZXJDaGlsZEVsZW1lbnRzOiB7XG4gICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKGNoaWxkRWxlbWVudHMsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIHJlUmVuZGVyID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTtcbiAgICAgIHRoaXMuY2hpbGRFbGVtZW50c0RhdGEgPSBjaGlsZEVsZW1lbnRzO1xuXG4gICAgICB2YXIgcmVuZGVyTG9vcCA9IGZ1bmN0aW9uIHJlbmRlckxvb3AoZWxlbWVudCkge1xuICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IF90aGlzMi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJykpO1xuXG4gICAgICAgIC8vIFBST01JU0UgVkFMVUVcbiAgICAgICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgcmV0dXJuIGVsZW1lbnQudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiByZW5kZXJMb29wKHZhbHVlLCBwbGFjZWhvbGRlcik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gLy8gRlVOQ1RJT04gVkFMVUVcblxuXG4gICAgICAgIGlmICh0eXBlb2YgZWxlbWVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJldHVybiByZW5kZXJMb29wKGVsZW1lbnQoX3RoaXMyKSwgcGxhY2Vob2xkZXIpO1xuICAgICAgICB9IC8vIEFSUkFZIFZBTFVFXG5cblxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShlbGVtZW50KSkge1xuICAgICAgICAgIHZhciBwcm9taXNlcyA9IGVsZW1lbnQubWFwKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlbmRlckxvb3AodmFsdWUsIF90aGlzMi5pbnNlcnRCZWZvcmUoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpLCBwbGFjZWhvbGRlcikpO1xuICAgICAgICAgIH0pLmZpbHRlcihmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2UgaW5zdGFuY2VvZiBQcm9taXNlO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgX3RoaXMyLnJlbW92ZUNoaWxkKHBsYWNlaG9sZGVyKTtcblxuICAgICAgICAgIHJldHVybiBwcm9taXNlcy5sZW5ndGggPiAwICYmIFByb21pc2UuYWxsKHByb21pc2VzKTtcbiAgICAgICAgfSAvLyBPQkpFQ1QgVkFMVUVcblxuXG4gICAgICAgIGlmIChfdHlwZW9mKGVsZW1lbnQpID09PSAnb2JqZWN0JyAmJiBlbGVtZW50ICE9PSBudWxsICYmICEoZWxlbWVudCBpbnN0YW5jZW9mIEVsZW1lbnQpICYmICEoZWxlbWVudCBpbnN0YW5jZW9mIFRleHQpKSB7XG4gICAgICAgICAgdmFyIF9wcm9taXNlczIgPSBPYmplY3Qua2V5cyhlbGVtZW50KS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlbmRlckxvb3AoZWxlbWVudFtrZXldLCBfdGhpczIuaW5zZXJ0QmVmb3JlKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKSwgcGxhY2Vob2xkZXIpKTtcbiAgICAgICAgICB9KS5maWx0ZXIoZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlIGluc3RhbmNlb2YgUHJvbWlzZTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIF90aGlzMi5yZW1vdmVDaGlsZChwbGFjZWhvbGRlcik7XG5cbiAgICAgICAgICByZXR1cm4gX3Byb21pc2VzMi5sZW5ndGggPiAwICYmIFByb21pc2UuYWxsKF9wcm9taXNlczIpO1xuICAgICAgICB9IC8vIEJPT0xFQU4sIE5VTUJFUiBPUiBTVFJJTkcgVkFMVUVcblxuXG4gICAgICAgIGlmICh0eXBlb2YgZWxlbWVudCA9PT0gJ2Jvb2xlYW4nIHx8IHR5cGVvZiBlbGVtZW50ID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgZWxlbWVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICB2YXIgd3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgIHdyYXBwZXIuaW5uZXJIVE1MID0gU3RyaW5nKGVsZW1lbnQpO1xuICAgICAgICAgIHJldHVybiByZW5kZXJMb29wKF90b0NvbnN1bWFibGVBcnJheSh3cmFwcGVyLmNoaWxkTm9kZXMpLCBwbGFjZWhvbGRlcik7XG4gICAgICAgIH0gLy8gRUxFTUVOVCAvIFRFWFQgVkFMVUVcblxuXG4gICAgICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgRWxlbWVudCB8fCBlbGVtZW50IGluc3RhbmNlb2YgVGV4dCkge1xuICAgICAgICAgIF90aGlzMi5pbnNlcnRCZWZvcmUoZWxlbWVudCwgcGxhY2Vob2xkZXIpO1xuICAgICAgICB9IC8vIFJFTU9WRSBQTEFDRUhPTERFUlxuXG5cbiAgICAgICAgX3RoaXMyLnJlbW92ZUNoaWxkKHBsYWNlaG9sZGVyKTtcblxuICAgICAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEVsZW1lbnQgJiYgZWxlbWVudC5kZWZpbmVkQnlVaUZhY3RvcnlQcm9wZXJ0eURlc2NyaXB0b3JzKSB7XG4gICAgICAgICAgcmV0dXJuIHJlUmVuZGVyICYmIGVsZW1lbnQucmVuZGVyKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHdoaWxlICh0aGlzLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVDaGlsZCh0aGlzLmZpcnN0Q2hpbGQpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVzdWx0ID0gcmVuZGVyTG9vcCh0aGlzLmNoaWxkRWxlbWVudHNEYXRhKTtcblxuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgcmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKF90aGlzMik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FsbGJhY2sodGhpcyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICB3cml0YWJsZTogdHJ1ZVxuICB9LFxuICByZW5kZXI6IHtcbiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoY2FsbGJhY2spIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICBQcm9taXNlLmFsbChbbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMy5yZW5kZXJBdHRyaWJ1dGVzKF90aGlzMy5hdHRyaWJ1dGVzRGF0YSwgcmVzb2x2ZSk7XG4gICAgICB9KSwgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzMy5yZW5kZXJDaGlsZEVsZW1lbnRzKF90aGlzMy5jaGlsZEVsZW1lbnRzRGF0YSwgcmVzb2x2ZSwgdHJ1ZSk7XG4gICAgICB9KV0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sgJiYgY2FsbGJhY2soX3RoaXMzKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICB3cml0YWJsZTogdHJ1ZVxuICB9LFxuICBjYms6IHtcbiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWxsYmFjay5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfSxcbiAgYXR0cnM6IHtcbiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUoKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZW5kZXJBdHRyaWJ1dGVzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9LFxuICBjRWxzOiB7XG4gICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyQ2hpbGRFbGVtZW50cy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH1cbiAgfVxufTtcblsnYScsICdhYmJyJywgJ2FkZHJlc3MnLCAnYXJlYScsICdhcnRpY2xlJywgJ2FzaWRlJywgJ2F1ZGlvJywgJ2InLCAnYmFzZScsICdiZGknLCAnYmRvJywgJ2Jsb2NrcXVvdGUnLCAnYm9keScsICdicicsICdidXR0b24nLCAnY2FudmFzJywgJ2NhcHRpb24nLCAnY2l0ZScsICdjb2RlJywgJ2NvbCcsICdjb2xncm91cCcsICdkYXRhJywgJ2RhdGFsaXN0JywgJ2RkJywgJ2RlbCcsICdkZXRhaWxzJywgJ2RmbicsICdkaWFsb2cnLCAnZGl2JywgJ2RsJywgJ2R0JywgJ2VtJywgJ2VtYmVkJywgJ2ZpZWxkc2V0JywgJ2ZpZ3VyZScsICdmb290ZXInLCAnZm9ybScsICdoMScsICdoMicsICdoMycsICdoNCcsICdoNScsICdoNicsICdoZWFkJywgJ2hlYWRlcicsICdoZ3JvdXAnLCAnaHInLCAnaHRtbCcsICdpJywgJ2lmcmFtZScsICdpbWcnLCAnaW5wdXQnLCAnaW5zJywgJ2tiZCcsICdrZXlnZW4nLCAnbGFiZWwnLCAnbGVnZW5kJywgJ2xpJywgJ2xpbmsnLCAnbWFpbicsICdtYXAnLCAnbWFyaycsICdtZW51JywgJ21lbnVpdGVtJywgJ21ldGEnLCAnbWV0ZXInLCAnbmF2JywgJ25vc2NyaXB0JywgJ29iamVjdCcsICdvbCcsICdvcHRncm91cCcsICdvcHRpb24nLCAnb3V0cHV0JywgJ3AnLCAncGFyYW0nLCAncHJlJywgJ3Byb2dyZXNzJywgJ3EnLCAncmInLCAncnAnLCAncnQnLCAncnRjJywgJ3J1YnknLCAncycsICdzYW1wJywgJ3NjcmlwdCcsICdzZWN0aW9uJywgJ3NlbGVjdCcsICdzbWFsbCcsICdzb3VyY2UnLCAnc3BhbicsICdzdHJvbmcnLCAnc3R5bGUnLCAnc3ViJywgJ3N1bW1hcnknLCAnc3VwJywgJ3RhYmxlJywgJ3Rib2R5JywgJ3RkJywgJ3RlbXBsYXRlJywgJ3RleHRhcmVhJywgJ3Rmb290JywgJ3RoJywgJ3RoZWFkJywgJ3RpbWUnLCAndGl0bGUnLCAndHInLCAndHJhY2snLCAndScsICd1bCcsICd2YXInLCAndmlkZW8nLCAnd2JyJ10uZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICByZXR1cm4gdWlGYWN0b3J5W25hbWVdID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHVpRmFjdG9yeShuYW1lLCBjYWxsYmFjayk7XG4gIH07XG59KTtcblxudWlGYWN0b3J5LmxvcmVtID0gZnVuY3Rpb24gKCkge1xuICB2YXIgcGFyYWdyYXBocyA9IFsnTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2NpbmcgZWxpdC4gUGhhc2VsbHVzIGdyYXZpZGEgZmVsaXMgdml0YWUgbWF1cmlzIGZhY2lsaXNpcyBtYXhpbXVzLiBJbnRlZ2VyIHB1bHZpbmFyIGF0IGRpYW0gYWMgcGhhcmV0cmEuIERvbmVjIGV1IG5pc2kgb3JuYXJlLCB1bHRyaWNlcyB0ZWxsdXMgc2VkLCBibGFuZGl0IG1hZ25hLiBEb25lYyBtb2xlc3RpZSBhY2N1bXNhbiBhcmN1IG5vbiBsYWNpbmlhLiBNYXVyaXMgbW9sbGlzIG51bGxhIGV4LCBpZCBzdXNjaXBpdCBlbGl0IGRpY3R1bSBzaXQgYW1ldC4gU3VzcGVuZGlzc2UgdGVtcG9yIGNvbmd1ZSBkdWksIGF0IGRpY3R1bSBxdWFtIGVsZWlmZW5kIGVnZXQuIE1hZWNlbmFzIHNpdCBhbWV0IGxhY3VzIGlkIGVyYXQgcGhhcmV0cmEgcHVsdmluYXIuJywgJ1F1aXNxdWUgcmhvbmN1cyBibGFuZGl0IG51bmMgaW4gZGljdHVtLiBOdW5jIGVsaXQgdG9ydG9yLCB1bHRyaWNpZXMgYWMgdHVycGlzIHZlbCwgb3JuYXJlIGRpZ25pc3NpbSBhdWd1ZS4gQ3JhcyBpbiBhbnRlIHNpdCBhbWV0IHNlbSBhbGlxdWFtIHBvcnRhLiBRdWlzcXVlIHV0IGludGVyZHVtIG9yY2kuIENyYXMgY29uZGltZW50dW0gZmVsaXMgdGVtcG9yLCBlbGVpZmVuZCBsb3JlbSBuZWMsIHJob25jdXMgbGliZXJvLiBBZW5lYW4gdWx0cmljaWVzIGZlbGlzIHNlZCBudW5jIGRhcGlidXMgc3VzY2lwaXQuIFZlc3RpYnVsdW0gbGFvcmVldCwgbmliaCBhYyBzY2VsZXJpc3F1ZSBjb25zZWN0ZXR1ciwgc2FwaWVuIG9kaW8gbWFsZXN1YWRhIGZlbGlzLCBxdWlzIGxvYm9ydGlzIGp1c3RvIHR1cnBpcyBhIHNhcGllbi4gUGVsbGVudGVzcXVlIGNvbnNlY3RldHVyIHZvbHV0cGF0IGFudGUsIGF0IHRpbmNpZHVudCBuaXNsIHBvcnRhIGFjLiBEb25lYyBlbGVpZmVuZCBpbXBlcmRpZXQgdnVscHV0YXRlLiBGdXNjZSB1bGxhbWNvcnBlciB1bHRyaWNlcyBldWlzbW9kLiBNYWVjZW5hcyBiaWJlbmR1bSBzY2VsZXJpc3F1ZSBhcmN1LCBldCBhbGlxdWFtIG51bGxhIGNvbnNlY3RldHVyIHV0LiBDbGFzcyBhcHRlbnQgdGFjaXRpIHNvY2lvc3F1IGFkIGxpdG9yYSB0b3JxdWVudCBwZXIgY29udWJpYSBub3N0cmEsIHBlciBpbmNlcHRvcyBoaW1lbmFlb3MuIERvbmVjIHBvcnRhIG5pYmggc2VkIHJpc3VzIHNjZWxlcmlzcXVlIGZyaW5naWxsYS4nLCAnTWFlY2VuYXMgbW9sZXN0aWUgbnVsbGEgZXUgbGFvcmVldCBjb25zZXF1YXQuIFNlZCBzYWdpdHRpcyBibGFuZGl0IGltcGVyZGlldC4gVmVzdGlidWx1bSBjb21tb2RvIHVybmEgdmVsIHB1cnVzIHNvZGFsZXMgdGluY2lkdW50LiBQaGFzZWxsdXMgaW4gbnVsbGEgdmVsIG51bmMgc29kYWxlcyBkaWduaXNzaW0gcXVpcyBxdWlzIG5pc2kuIERvbmVjIHZlbmVuYXRpcyBldCBuaXNpIHZlbCBwb3J0dGl0b3IuIFNlZCB1dCBzb2xsaWNpdHVkaW4gdXJuYSwgdmVsIGFsaXF1ZXQgbGlndWxhLiBJbiBoYWMgaGFiaXRhc3NlIHBsYXRlYSBkaWN0dW1zdC4gRnVzY2UgcXVpcyB1cm5hIGRpYW0uIERvbmVjIHRlbXBvciB0cmlzdGlxdWUgZGlnbmlzc2ltLiBOdWxsYSBwaGFyZXRyYSBzaXQgYW1ldCBuaWJoIGlkIHBvcnRhLiBEb25lYyBzYWdpdHRpcyB1cm5hIHJpc3VzLCBpbiB1bHRyaWNlcyBuaXNpIGZyaW5naWxsYSBldC4gU3VzcGVuZGlzc2UgcG90ZW50aS4nLCAnTW9yYmkgdml0YWUgZnJpbmdpbGxhIG1hc3NhLiBQcmFlc2VudCBsdWN0dXMgZ3JhdmlkYSBtYWduYSwgZXQgb3JuYXJlIGVuaW0gdml2ZXJyYSBzaXQgYW1ldC4gRG9uZWMgcmlzdXMgaXBzdW0sIGludGVyZHVtIG5vbiBsaWJlcm8gZWdldCwgZmV1Z2lhdCBwbGFjZXJhdCBhbnRlLiBRdWlzcXVlIHNlbXBlciBlbGVtZW50dW0gZXVpc21vZC4gRG9uZWMgc2l0IGFtZXQgZW5pbSBsb2JvcnRpcywgdGVtcHVzIHNlbSB2ZWwsIG1vbGxpcyBlbGl0LiBNYWVjZW5hcyBlZ2V0IGR1aSBhcmN1LiBOdW5jIGEgb3JjaSBsb3JlbS4nLCAnUGhhc2VsbHVzIG5vbiBsZW8gbnVuYy4gVXQgaWQgcG9zdWVyZSBvcmNpLiBNYXVyaXMgY29uZ3VlIGxlY3R1cyBzZWQgc2FwaWVuIHZ1bHB1dGF0ZSBkaWduaXNzaW0uIERvbmVjIGFjIGVuaW0gYWMgZHVpIHZlc3RpYnVsdW0gZmVybWVudHVtLiBOYW0gZGlnbmlzc2ltIGxhY2luaWEgbGFjdXMsIHRlbXBvciBkaWduaXNzaW0gbGFjdXMgbWF0dGlzIGV0LiBRdWlzcXVlIHNlZCB2ZWxpdCBuaXNpLiBWaXZhbXVzIHB1bHZpbmFyIHJob25jdXMganVzdG8sIHF1aXMgbG9ib3J0aXMgc2VtIGxvYm9ydGlzIGV1LiBOYW0gaWFjdWxpcyBvZGlvIG5vbiB2ZWxpdCBzZW1wZXIgZmV1Z2lhdC4gUGVsbGVudGVzcXVlIHZlaGljdWxhIGR1aSBmZWxpcywgbmVjIG1hbGVzdWFkYSBsYWN1cyBtb2xlc3RpZSBydXRydW0uIE51bGxhbSBpbiBsZWN0dXMgcG9ydGEsIGVnZXN0YXMgbWFzc2EgcXVpcywgbWF0dGlzIHNlbS4gRnVzY2UgbWF1cmlzIHB1cnVzLCBmYXVjaWJ1cyBldCBjb25ndWUgZXUsIGlhY3VsaXMgc2l0IGFtZXQgbGVvLiBNYWVjZW5hcyBldCB2b2x1dHBhdCBsb3JlbSwgbm9uIGVsZWlmZW5kIGVzdC4gRG9uZWMgbmVjIG5pc2kgZXUgZXJhdCBmaW5pYnVzIHVsdHJpY2llcy4gTnVsbGFtIGVnZXQgY29udmFsbGlzIGZlbGlzLCBlZ2V0IHZpdmVycmEgZXN0LiBQZWxsZW50ZXNxdWUgcGVsbGVudGVzcXVlIGZldWdpYXQgYXVndWUuJ107XG4gIHJldHVybiBwYXJhZ3JhcGhzW3VpRmFjdG9yeS5sb3JlbS5pbmRleCsrICUgcGFyYWdyYXBocy5sZW5ndGhdO1xufTtcblxudWlGYWN0b3J5LmxvcmVtLmluZGV4ID0gMDtcbi8qIGV4cG9ydGVkIHVpZiAqL1xuXG52YXIgdWlmID0gdWlGYWN0b3J5OyJdfQ==
